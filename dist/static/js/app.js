const addElement=function(t,e){var a=document.createElement(t);return a.className=e,a};var validationForms=document.querySelectorAll("[data-validate]"),validationPatterns={email:/.+@.+\..+/i,phone:/^[0-9-+() ]*$/,text:/^[A-Za-zА-Яа-я0-9_-]*$/},addError=function(t,e){t.parentElement.querySelector(".input__error").innerHTML=e},checkRequired=function(t){return!t.required||""!=t.value||(addError(t,"Необходимо заполнить это поле"),!1)},checkPattern=function(t){if(!t.dataset.validatePattern||""==t.value)return!0;var e=validationPatterns[t.dataset.validatePattern],a=t.value;return e.test(a)||addError(t,"Использованы недопустимые символы"),e.test(a)},checkLength=function(t){if(!t.dataset.validateLength||""==t.value)return!0;var e=t.dataset.validateLength,a=t.value.length;if(e.includes("-")){var n=e.split("-");return a>=n[0]&&a<=n[1]||(a<n[0]?addError(t,"Значение слишком короткое. Минимальное количество символов: "+n[0]):a>n[1]&&addError(t,"Значение слишком длинное. Максимальное количество символов: "+n[1]),!1)}return a>=e||(addError(t,"Значение слишком короткое. Минимальное количество символов: "+e),!1)},validateInput=function(t,e){var a=checkRequired(t)&&checkPattern(t)&&checkLength(t),n=t.value||!1;return a&&n?(t.classList.add("input__field_status_valid"),t.classList.remove("input__field_status_invalid"),!0):!a&&e?(t.classList.remove("input__field_status_valid"),t.classList.add("input__field_status_invalid"),!1):!!a||(t.classList.remove("input__field_status_valid"),!0)},validateForm=function(t){var e=t.querySelectorAll(".input__field");e.forEach(t=>{t.parentElement.append(addElement("span","input__error")),t.addEventListener("keyup",function(){validateInput(t,!1)}),t.addEventListener("click",function(){validateInput(t,!1)}),t.addEventListener("change",function(){validateInput(t,!0)}),t.addEventListener("blur",function(){validateInput(t,!0)})}),t.onsubmit=function(t){var a=!0;return e.forEach(t=>{validateInput(t,!0)||(a=a&&validateInput(t,!0))}),a}};validationForms.forEach(t=>{validateForm(t)});